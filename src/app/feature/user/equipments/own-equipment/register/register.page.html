<app-header [title]="'Registro de equipos'"></app-header>
<ion-content [fullscreen]="true" class="register">
  <app-form-step
    [listItems]="menuFormStep"
    [currentIndexInForm]="indexStep"
    (indexCurrent)="currentIndexStepForm($event)"
  ></app-form-step>
  <form [formGroup]="formRegister">
    <div class="register__layout" [ngSwitch]="indexStep">
      <!-- form index 0 -->
      <div class="register__layout__0" *ngSwitchCase="0">
        <app-input-codebar
          [label]="'Escanear'"
          placeholder="Toca para escanear cÃ³digo"
          [isRegister]="true"
          srcIcon="assets/icon/barcode.png"
          typeInput="text"
          (registerResult)="getEquipmentByCodeBar($event)"
        ></app-input-codebar>
        <app-capture-image
        [srcImg]="base64ImageEquipment"
          (dataPhoto)="getDataTakePhoto($event)"
        ></app-capture-image>
      </div>

      <!-- form index 1 -->
      <div class="register__layout__1" *ngSwitchCase="1">
        <app-select-custom
          label="Equipo"
          placeholder="Seleccione equipo"
          [optionsList]="listCategoryTool"
          [canSearch]="true"
          (selectItem)="handleSelect($event, 'toolCategoryId')"
        ></app-select-custom>
        <app-select-custom
          label="Marca"
          [optionsList]="listBrand"
          placeholder="Seleccione Marca"
          (selectItem)="handleSelect($event, 'toolBrandId')"
        ></app-select-custom>
        <app-input-general
          label="Referencia"
          placeholder="Digite referencia"
          (inputChange)="handleSelect($event,'toolReference')"
        ></app-input-general>
        <app-input-general
          label="Serie"
          placeholder="Digite serie"
          (inputChange)="handleSelect($event,'toolSerial')"
        ></app-input-general>
      </div>

      <!-- form index 2 -->
      <div class="register__layout__2" *ngSwitchCase="2">
        <app-select-custom
          label="Proveedor"
          [optionsList]="listSupplier"
          placeholder="Proveedor"
          (selectItem)="handleSelect($event, 'invoiceSupplierId')"
        ></app-select-custom>
        <app-input-general
          label="No. FACT. / REM."
          placeholder="Digite # de factura (Opcional)"
          (inputChange)="handleSelect($event,'invoiceNumber')"
        ></app-input-general>
        <app-input-general
          label="Valor equipo (con iva)"
          placeholder="Digite valor"
          (inputChange)="handleSelect($event,'invoicePrice')"
        ></app-input-general>
        <app-input-general
          label="Fecha"
          srcIcon="assets/icon/Calendar.svg"
          placeholder="Digite fecha DD/MM/AAAA"
          [isTypeDate]="true"
          (inputChange)="handleSelect($event,'invoiceDate')"
        ></app-input-general>
        <app-input-general
          label="GarantÃ­a"
          placeholder="En meses (Opcional)"
          (inputChange)="handleSelect($event,'invoiceWarranty')"
        ></app-input-general>
      </div>

      <button class="register__layout__btngeneral" (click)="nextStep()">
        {{stepEnd ? 'Guardar' : 'Continuar'}}
      </button>
    </div>
  </form>
</ion-content>
