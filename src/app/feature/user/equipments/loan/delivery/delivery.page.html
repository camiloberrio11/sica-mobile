<app-header [title]="'Entrega de equipos'"></app-header>

<ion-content [fullscreen]="true" class="delivery">
  <app-form-step
    [listItems]="menuFormStep"
    [currentIndexInForm]="indexStep"
    (indexCurrent)="currentIndexStepForm($event)"
  ></app-form-step>

  <div class="delivery__layout" [ngSwitch]="indexStep">
    <!-- form index 0 -->
    <div class="delivery__layout__loan__0" *ngSwitchCase="0">
      <app-input-codebar
        (codeBarRead)="getEquipmentByCodeBar($event)"
        [label]="'Escanear'"
        placeholder="Escanear Código"
        srcIcon="assets/icon/barcode.png"
        typeInput="text"
      ></app-input-codebar>
      <app-card-detail-equipment
        [brand]="toolFindByCodeBar?.brand?.name"
        [categoryName]="toolFindByCodeBar?.category?.name"
        [reference]="toolFindByCodeBar?.reference"
        [serial]="toolFindByCodeBar?.serial"
        [isOwned]="true"
      ></app-card-detail-equipment>
    </div>

    <!-- form index 1 -->
    <div class="delivery__layout__loan__1" *ngSwitchCase="1">
      <app-input-label-nfc
        [label]="'Entregado a'"
        srcIcon="assets/icon/nfc.svg"
        (nfcValue)="getUserByToken($event)"
      ></app-input-label-nfc>

      <app-input-general
        [label]="'Contratista'"
        typeInput="text"
      ></app-input-general>

      <div class="delivery__layout__loan__1__quan">
        <app-box-quantity label="Cantidad"></app-box-quantity>
        <app-box-quantity label="Días"></app-box-quantity>
      </div>

      <app-input-observations placeholder="Actividad"></app-input-observations>
      <app-input-observations
        placeholder="Observación"
      ></app-input-observations>
    </div>

    <button (click)="nextStep()">{{stepEnd ? 'Entregar' : 'Continuar'}}</button>
  </div>
</ion-content>
